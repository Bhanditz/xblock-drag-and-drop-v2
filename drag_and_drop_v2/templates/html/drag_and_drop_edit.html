{% load i18n %}

<div class="xblock--drag-and-drop--editor editor-with-buttons">
    {{ js_templates|safe }}

    <section class="drag-builder">
        <div class="tab feedback-tab">
            <p class="tab-content">
                {% trans "Note: don't edit the question if students already answered it! Delete it and create a new one." %}
            </p>

            <section class="tab-content">
                <form class="feedback-form">
                    <h3>{% trans "Question title" %}</h3>
                    <input class="display-name" value="{{ self.display_name }}" />
                    <label title="{{ help_texts.show_title }}">
                      <input class="show-title" type="checkbox"
                        {% if self.show_title %}checked="checked"{% endif %}>
                      {% trans "Show title" %}
                    </label>

                    <h3>{% trans "Maximum score" %}</h3>
                    <input type="number" step="0.1" class="weight" value="1" value="{{ self.weight }}" />

                    <h3>{% trans "Question text" %}</h3>
                    <textarea class="question-text">{{ self.question_text }}</textarea>
                    <label title="{{ help_texts.show_question_header }}">
                      <input class="show-question-header" type="checkbox"
                        {% if self.show_question_header %}checked="checked"{% endif %}>
                      {% trans "Show \"Question\" heading" %}
                    </label>

                    <h3>{% trans "Introductory Feedback" %}</h3>
                    <textarea class="intro-feedback">{{ self.data.feedback.start }}</textarea>

                    <h3>{% trans "Final Feedback" %}</h3>
                    <textarea class="final-feedback">{{ self.data.feedback.finish }}</textarea>
                </form>
            </section>
        </div>

        <div class="tab zones-tab hidden">
            <header class="tab-header">
                <h3>{% trans "Zones" %}</h3>
            </header>
            <section class="tab-content">
                <form class="target-image-form">
                    <h3 id="background-url-label">
                        {% trans "Background URL" %}
                    </h3>
                    <input type="text"
                           class="url-input"
                           aria-labelledby="background-url-label"
                           placeholder="{% trans 'e.g. http://example.com/background.png or /static/background.png' %}">
                    <h3 id="background-description-label">
                        {% trans "Background description" %}
                    </h3>
                    <textarea class="description-input"
                              aria-labelledby="background-description-label"
                              aria-describedby="background-description-description"></textarea>
                    <div id="background-description-description" class="target-image-form-help">
                        {% blocktrans %}
                            Please provide a description of the image for non-visual users.
                            The description should provide sufficient information that would allow anyone
                            to solve the problem even without seeing the image.
                        {% endblocktrans %}
                    </div>
                    <button class="btn">{% trans "Change background" %}</button>
                </form>
            </section>
            <section class="tab-content">
                <form class="display-labels-form">
                    <h3>{% trans "Zone labels" %}</h3>
                    <label for="display-labels">{% trans "Display label names on the image" %}:</label>
                    <input name="display-labels" id="display-labels" type="checkbox" />
                </form>
            </section>
            <section class="tab-content">
                <div class="zone-editor">
                    <div class="controls">
                        <form class="zones-form"></form>
                        <a href="#" class="add-zone add-element"><div class="icon add"></div>{% trans "Add a zone" %}</a>
                    </div>
                    <div class="target">
                        <img class="target-img">
                        <div class="zones-preview">
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <div class="tab items-tab hidden">
            <header class="tab-header">
                <h3>{% trans "Items" %}</h3>
            </header>
            <section class="tab-content">
                <form class="item-styles-form">
                    <h3 id="item-background-color-label">
                        {% trans "Background color" %}
                    </h3>
                    <input class="item-background-color"
                           placeholder="e.g. blue or #0000ff"
                           value="{{ self.item_background_color}}"
                           aria-labelledby="item-background-color-label"
                           aria-describedby="item-background-color-description">
                    <div id="item-background-color-description" class="item-styles-form-help">
                      {{ help_texts.item_background_color }}
                    </div>
                    <h3 id="item-text-color-label">
                        {% trans "Text color" %}
                    </h3>
                    <input class="item-text-color"
                           placeholder="e.g. white or #ffffff"
                           value="{{ self.item_text_color}}"
                           aria-labelledby="item-text-color-label"
                           aria-describedby="item-text-color-description">
                    <div id="item-text-color-description" class="item-styles-form-help">
                      {{ help_texts.item_text_color }}
                    </div>
                </form>
            </section>
            <section class="tab-content">
                <form class="items-form"></form>
            </section>
            <footer class="tab-footer">
                <a href="#" class="add-item add-element"><div class="icon add"></div>{% trans "Add an item" %}</a>
            </footer>
        </div>

    </section>

    <div class="xblock-actions">
      <span class="xblock-editor-error-message"></span>
      <ul>
        <li class="action-item">
          <a href="#" class="button action-primary continue-button">{% trans "Continue" %}</a>
        </li>

        <li class="action-item hidden">
          <a href="#" class="button action-primary save-button">{% trans "Save" %}</a>
        </li>

        <li class="action-item">
          <a href="#" class="button cancel-button">{% trans "Cancel" %}</a>
        </li>
      </ul>
    </div>
</div>
